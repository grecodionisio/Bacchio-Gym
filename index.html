<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bacchio Gym</title>
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#27ae60" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="app-header">
    <div class="logo">üèãÔ∏è‚Äç‚ôÇÔ∏è</div>
    <div class="brand">
      <h1>Bacchio Gym</h1>
      <p class="subtitle">Full body. Zero attrezzi. Offline.</p>
    </div>
    <button id="installBtn" class="btn small" hidden>Installa</button>
  </header>

  <main class="container">
    <section id="onboarding" class="card hidden">
      <h2>Benvenuto!</h2>
      <p>Imposta le preferenze iniziali. Puoi cambiarle in seguito.</p>
      <div class="grid">
        <label>Profilo:
          <select id="gender">
            <option value="M">Maschio</option>
            <option value="F">Femmina</option>
          </select>
        </label>
        <label>Livello:
          <select id="level">
            <option value="principiante">Principiante</option>
            <option value="intermedio">Intermedio</option>
            <option value="esperto">Esperto</option>
          </select>
        </label>
        <label>Durata sessione:
          <select id="duration">
            <option value="30">30 minuti</option>
            <option value="10">10 minuti (rapida)</option>
          </select>
        </label>
        <label class="row">
          <input type="checkbox" id="jointCare"> Articolazioni delicate
        </label>
      </div>
      <label class="row">
        <input type="checkbox" id="safetyAck">
        Dichiaro di avere spazio libero, una sedia stabile (no pieghevole), e nessun tavolo/porta per esercizi di trazione.
      </label>
      <button id="startApp" class="btn">Inizia</button>
    </section>

    <section id="home" class="card hidden">
      <div class="flex-between">
        <h2>Allenamento di oggi</h2>
        <div>
          <button id="regenerate" class="btn small">Rigenera</button>
          <button id="settings" class="btn small">Impostazioni</button>
        </div>
      </div>
      <div id="workoutSummary"></div>
      <button id="startWorkout" class="btn primary">Avvia allenamento</button>
      <div class="notes">
        <p class="muted">Suggerimento: al termine indica la fatica (RPE) per adattare la progressione.</p>
      </div>
    </section>

    <section id="workout" class="card hidden">
      <div class="timer" id="timer">00:00</div>
      <div id="cue" class="cue">Pronto?</div>
      <div id="exercisePanel" class="exercise-panel"></div>
      <div class="controls">
        <button id="scaleDown" class="btn small">Scala</button>
        <button id="scaleUp" class="btn small">Spingi</button>
        <button id="skip" class="btn small">Salta</button>
      </div>
      <button id="endBlock" class="btn danger">Termina blocco</button>
    </section>

    <section id="rpe" class="card hidden">
      <h2>Fatica percepita (RPE 1‚Äì10)</h2>
      <input id="rpeInput" type="range" min="1" max="10" value="7">
      <div class="flex-between">
        <span>1 (facile)</span><span id="rpeVal">7</span><span>10 (durissima)</span>
      </div>
      <button id="saveRpe" class="btn primary">Salva e torna alla Home</button>
    </section>

    <section id="settingsPanel" class="card hidden">
      <h2>Impostazioni</h2>
      <div class="grid">
        <label>Profilo:
          <select id="genderSet"></select>
        </label>
        <label>Livello:
          <select id="levelSet"></select>
        </label>
        <label>Durata:
          <select id="durationSet"></select>
        </label>
        <label class="row">
          <input type="checkbox" id="jointCareSet"> Articolazioni delicate
        </label>
      </div>
      <button id="saveSettings" class="btn primary">Salva</button>
      <button id="backHome" class="btn">Indietro</button>
    </section>
  </main>

  <footer class="footer">
    <small>¬© 2025 Bacchio Gym ‚Äî PWA offline, nessun backend. Licenza MIT.</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
